<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Fridge Home</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--- Style Sheet --->
    <link rel="stylesheet" href="css/frideMain.css">
    
    <script src="https://use.fontawesome.com/6c5f8d3c8b.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <!-- jQuery slider -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="cleartype" content="on">
    <meta name="MobileOptimized" content="320">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" type="text/css" href="test.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="css/nav.css">
    
    <script src="https://www.gstatic.com/firebasejs/4.0.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBakaFIMGbUxPiCMYRqi6NKkeNgcJBJcZQ",
        authDomain: "my-virtual-fridge-6ff0b.firebaseapp.com",
        databaseURL: "https://my-virtual-fridge-6ff0b.firebaseio.com",
        projectId: "my-virtual-fridge-6ff0b",
        storageBucket: "my-virtual-fridge-6ff0b.appspot.com",
        messagingSenderId: "520914821066"
      };

      firebase.initializeApp(config);
        database = firebase.database(); 

    var ref = database.ref('Fridge');
    ref.on('value', gotDataVeg);      
    
    function gotDataVeg(data) {
        
        var Fridge = data.val();
        var keys = Object.keys(Fridge);
        console.log(keys);
        var num = 0;
        for (var i = 0; i < keys.length; i++) {
            
            var k = keys[i];
            
            var name = Fridge[k].name;
         
            var li = document.createElement("li");
            li.style.color = "white";
            li.style.display = "block";
            li.style.textAlign ="left";
           
        if (num > 3 && num < 5) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf").appendChild(div);
                
            } 
            
             if (num >= 6 && num < 7) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf2").appendChild(div);
                
            } 
            
                  if (num >= 9 && num < 10) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf3").appendChild(div);
                
            }
                      if (num >= 12 && num < 13) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf4").appendChild(div);
                
            }
                  if (num >= 15 && num < 16) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf5").appendChild(div);
                
            }
                  if (num >= 18 && num < 19) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf6").appendChild(div);
                
            }
                  if (num >= 21 && num < 22) {
                
                var div = document.createElement("DIV")
                div.style.borderBottom = "30px solid #A1A194";
                div.style.borderLeft = "20px solid transparent";
                div.style.borderRight = "20px solid transparent";
                div.style.zIndex = "-1";
                div.style.position = "relative";
                div.style.top = "-15px";
                
                document.getElementById("newShelf7").appendChild(div);
                
            }
        
            var btn = document.createElement("BUTTON")
            btn.style.color = "#0e735d";
            btn.style.display = "inline";
            btn.style.border = "0";
            btn.style.backgroundColor = "#eaeff2";
            btn.style.boxShadow = "none";
            btn.style.borderRadius = "3px";
            btn.style.marginRight = "15px";
            btn.style.marginLeft = "15px";
          
  


            var t = document.createTextNode(name);
            btn.appendChild(t);
            
            if (i < 3) 
                
            document.getElementById("fridgelist").appendChild(btn);   
            
            if (i >= 3 && i < 6) 
                
                 document.getElementById("fridgelist1").appendChild(btn);
                
            if (i >= 6 && i < 9) 
                
                document.getElementById("fridgelist2").appendChild(btn);
            
            if (i >= 9 && i < 12)
                
                document.getElementById("fridgelist3").appendChild(btn); 

            
            if (i >= 12 && i < 15)
                
                document.getElementById("fridgelist4").appendChild(btn);
            
            if (i >= 15 && i < 18)
                
                document.getElementById("fridgelist5").appendChild(btn);
            
            if (i >= 18 && i < 21)
                
                document.getElementById("fridgelist6").appendChild(btn);
            
            if (i >= 21 && i < 24)
                
                document.getElementById("fridgelist7").appendChild(btn);


            num++;
        }
    }
    </script>
    
    <!-- highlights the selected food icons so users can tell what they've selected -->
    <script>

    var count = 1;

    function selected(){
        var food = document.getElementsByClassName('click')

        for(let i = 0; i < food.length; i++){
            food[i].onclick=function(){

                if (food[i].style.backgroundColor == "") {
                food[i].style.backgroundColor="#b1d0ca"
                    
                } else {
                    food[i].style.backgroundColor=""
                }
            }
        }
    }

    onload=selected
    </script>
    
    <script>       
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // User is signed in.
          console.log(user.displayName);
      var name = user.displayName;
      var email = user.email;
 
          user.getIdToken().then(function(accessToken) {
                                 document.getElementById("account-details").textContent = JSON.stringify({
              name,
            email
          });
                                 });

      } else {
        // No user is signed in.
      }
    });
    </script>

</head>
<body id="length">
    
    <!-- The nav bar that interacts with the jquery slider -->
    <div id="preloader">
	   <div id="status">&nbsp;</div>
    </div>
    
    <nav id="menu" class="menu">
        <header class="menu-header">
            <div id="account-details"></div>
        </header>
        <section class="menu-section">
            <h3 class="menu-section-title">Navigation</h3>
            <ul class="menu-section-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="fridgeMain.html">Fridge Contents</a></li>
                <li><a href="fridge.html">Add Ingredients</a></li>
                <li><a href="logIn.html">Sign In</a></li>
                <li><a href="registermvp.html">Register</a></li>   
                <li><a href="realRecipes.html">Recipes</a></li>
                <li><a href="tips&tricks.html">Tips &amp; Tricks</a></li>
                <li><a href="aboutus.html">About us</a></li>
                <li><a href="contact.html">Contact Us</a></li>
                <li><a href="affiliated.html">Affiliated Apps</a></li>
                <li><a href="javascript:signOut();">Sign Out</a></li>
            </ul>
        </section>
    </nav> 
    <!-- End of navigation -->   

    <main id="panel" class="panel">
      <header class="panel-header">
          <div class="wedaBest col-md-12">
              <div class="img-container col-xs-1 col-md-1">
                  <a href="index.html"><div class="mvf">MV<div   class="mvf1">F</div></div></a>
              </div>
          </div>
          <button class="btn-hamburger js-slideout-toggle">
              <i class="fa fa-bars" aria-hidden="true"></i>
          </button>
      </header>

    <!-- jQuery slider function -->  
    <script src="dist/slideout.js"></script>
    <script>
      window.onload = function() {
        var slideout = new Slideout({
          'panel': document.getElementById('panel'),
          'menu': document.getElementById('menu'),
          'side': 'right'
        });

        document.querySelector('.js-slideout-toggle').addEventListener('click', function() {
          slideout.toggle();
        });

        document.querySelector('.menu').addEventListener('click', function(eve) {
          if (eve.target.nodeName === 'A') { slideout.close(); }
        });
      };
    </script>

    <div class="row">
        <div>
            <ul id="fridgelist" id="buttons" class="buttons"></ul>
        </div>
        <div class="col-xs-12 shelf hidden-md hidden-lg"></div> 
        <div><ul id="fridgelist1"></ul></div>    
        <div id="newShelf"></div> 
        <div><ul id="fridgelist2"></ul></div>
        <div id="newShelf2"></div> 
        <div><ul id="fridgelist3"></ul></div>
        <div id="newShelf3"></div> 
        <div><ul id="fridgelist4"></ul></div>
        <div id="newShelf4"></div>
        <div><ul id="fridgelist5"></ul></div>
        <div id="newShelf5"></div>
        <div><ul id="fridgelist6"></ul></div>
        <div id="newShelf6"></div>
        <div><ul id="fridgelist7"></ul></div>
        <div id="newShelf7"></div>
    </div>
        
    <div class="fixPosition" class="panel-footer-fridge">
        <button id="removeButton">Get Recipes</button>
    </div>
        
    <div class="fixPosition" class="panel-footer-fridge">
        <button id="recipeButton">Remove</button>
    </div>

</main>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <!-- Preloader -->
    <script type="text/javascript">
        //<![CDATA[
            $(window).on('load', function() { // makes sure the whole site is loaded 
                $('#status').fadeOut(); // will first fade out the loading animation 
                $('#preloader').delay(350).fadeOut('slow'); // will fade out the white DIV that covers the website. 
                $('body').delay(350).css({'overflow':'visible'});
            })
        //]]>
    </script>
    
    <script>
        function signOut(){
        firebase.auth().signOut().then(function() {
          // Sign-out successful.
            window.location.href = "index.html";
            console.log('User signed out.');
        }).catch(function(error) {
          // An error happened.
        });
        }
    </script>
    
</body>
</html>  